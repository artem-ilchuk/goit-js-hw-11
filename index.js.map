{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function createMarkup(data) {\n  const gallery = document.querySelector('.gallery');\n  if (data.totalHits > 0) {\n    gallery.innerHTML = data.hits\n      .map(\n        image => `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n            <img\n              class=\"gallery-image\"\n              src=\"${image.webformatURL}\"\n              data-source=\"${image.largeImageURL}\"\n              alt=\"${image.tags}\"\n            />\n          </a>          \n          <ul class='gallery-list-details'>\n            <li class='gallery-item-details'><p class='gallery-item-text'>Likes</p><p class=\"item-value\">${image.likes}</p></li>\n            <li class='gallery-item-details'><p class='gallery-item-text'>Views</p><p class=\"item-value\">${image.views}</p></li>\n            <li class='gallery-item-details'><p class='gallery-item-text'>Comments</p><p class=\"item-value\">${image.comments}</p></li>\n            <li class='gallery-item-details'><p class='gallery-item-text'>Downloads</p><p class=\"item-value\">${image.downloads}</p></li>\n          </ul>          \n        </li>`\n      )\n      .join('');\n\n    let myGallery = new SimpleLightbox('.gallery a', {\n      overlayOpacity: 0.9,\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n    myGallery.refresh();\n  } else {\n    iziToastMes();\n    gallery.innerHTML = '';\n  }\n}\n\n/*---------IziMessages-------*/\n\nexport function greetingMessage() {\n  iziToast.show({\n    title: 'Hello',\n    titleColor: '#000',\n    message: 'Welcome to our Website!',\n    messageColor: '#000',\n    position: 'topRight',\n    color: '#09f',\n    icon: 'fas fa-bell',\n    timeout: 4000,\n  });\n}\n\nexport function iziToastMes() {\n  iziToast.error({\n    title: 'Error',\n    titleColor: '#fff',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    messageColor: '#fff',\n    color: '#ef4040',\n    position: 'topRight',\n    icon: 'fas fa-exclamation-triangle',\n    transitionIn: 'flipInX',\n    transitionOut: 'flipOutX',\n    timeout: 3000,\n  });\n}\n\nexport function emptyLine() {\n  iziToast.error({\n    title: 'Error',\n    titleColor: '#fff',\n    message: 'Please fill in the search images field',\n    messageColor: '#fff',\n    color: '#ef4040',\n    position: 'topRight',\n    icon: 'fas fa-exclamation-triangle',\n    transitionIn: 'flipInX',\n    transitionOut: 'flipOutX',\n    timeout: 3000,\n  });\n}\n\nexport function warningMessage() {\n  iziToast.warning({\n    title: 'Caution',\n    titleColor: '#000',\n    message: 'Something went wrong, please try again',\n    messageColor: '#000',\n    position: 'topRight',\n    color: 'orange',\n    icon: 'fas fa-exclamation-circle',\n    timeout: 4000,\n  });\n}\n","import { createMarkup, warningMessage } from './render-functions.js';\nimport { loader } from '../main.js';\n\nconst API_KEY = '46906317-bfa2c9d7c6708063f650b6890';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchSearch(searchValue) {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: searchValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 21,\n  });\n\n  const fetchURL = `${BASE_URL}?${searchParams}`;\n\n  return fetch(fetchURL)\n    .then(response => {\n      loader.classList.remove('hidden');\n\n      if (!response.ok) {\n        warningMessage();\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    })\n\n    .then(data => {\n      createMarkup(data);\n      loader.classList.add('hidden');\n    })\n\n    .catch(error => {\n      warningMessage();\n      loader.classList.add('hidden');\n    });\n}\n","import { fetchSearch } from './js/pixabay-api';\nimport { iziToastMes } from './js/render-functions';\nimport { greetingMessage, emptyLine } from './js/render-functions';\n\ndocument.addEventListener('DOMContentLoaded', greetingMessage);\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst submitButton = form.querySelector('button[type=\"submit\"]');\nexport const loader = document.querySelector('.loader');\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const searchValue = event.target.elements.search.value.trim();\n  console.log(searchValue);\n  if (searchValue !== '') {\n    loader.classList.remove('hidden'); // Show loader\n    gallery.innerHTML = ''; // Clear gallery before new search\n    submitButton.disabled = true;\n    try {\n      await fetchSearch(searchValue); // Fetch images based on the search value\n      form.reset();\n    } catch (error) {\n      console.error(error); // For debugging purposes\n      iziToastMes('ðŸš¨ Something went wrong while fetching images!');\n    } finally {\n      loader.classList.add('hidden'); // Hide loader, no matter what\n      submitButton.disabled = false;\n    }\n  } else {\n    emptyLine();\n  }\n});\n"],"names":["createMarkup","data","gallery","image","SimpleLightbox","iziToastMes","greetingMessage","iziToast","emptyLine","warningMessage","API_KEY","BASE_URL","fetchSearch","searchValue","searchParams","fetchURL","response","loader","error","form","submitButton","event"],"mappings":"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"}